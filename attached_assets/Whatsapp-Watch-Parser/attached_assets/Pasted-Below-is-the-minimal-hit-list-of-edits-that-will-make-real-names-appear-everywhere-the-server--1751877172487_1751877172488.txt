Below is the **minimal hit-list of edits** that will make real names appear everywhere
(the server keeps the name → id mapping, the React page just reads it).

| #     | What you’ll add                                                                                                                      | File to open                                                                                                 | One-liner-orientation                                                                                                                                                                                                                                                                                                                                                  |   |                  |   |                                                                                                                                                                                                                                                                                                                               |   |                                      |
| ----- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | - | ---------------- | - | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | - | ------------------------------------ |
| **1** | **A global in-memory cache**<br>`const contactNames = new Map<string,string>();`<br>`const groupNames   = new Map<string,string>();` | `src/server/routes/whatsapp.ts` (put it near the top, right under `waConfig`)                                | Keeps the name once we’ve seen it – no DB round-trip needed.                                                                                                                                                                                                                                                                                                           |   |                  |   |                                                                                                                                                                                                                                                                                                                               |   |                                      |
| **2** | **Fill the caches**                                                                                                                  | Same file, inside the big `app.post("/api/whatsapp/webhook"` handler                                         | *a)* When the incoming event is **`contacts.update`** → loop over `data[]` and do \`contactNames.set(c.id, c.notify                                                                                                                                                                                                                                                    |   | c.verifiedName   |   | c.name)`.<br>*b)* When the event is **`messages.upsert`** or **`received\_message`** and you already have `groupId`plus`m.pushName/ push\_name`→`contactNames.set(participant, pushName)`.<br>*c)* When you call **`get\_groups`** (in `app.post("/api/whatsapp/groups")`) do `groupNames.set(g.id, g.name)\` for every item. |   |                                      |
| **3** | **Use the caches in `extractMessageFromPayload()`**                                                                                  | Still `routes/whatsapp.ts`                                                                                   | Replace the current line that sets<br>`result.groupName = gid.includes("@g.us") ? "Group Chat" : "Private Chat";`<br>with<br>`result.groupName = groupNames.get(gid) ?? (gid.includes("@g.us") ? "Group Chat" : "Private Chat");`<br>and finally add<br>`result.sender   = contactNames.get(m.message_key?.participant ?? m.key?.participant ?? "") ?? result.sender;` |   |                  |   |                                                                                                                                                                                                                                                                                                                               |   |                                      |
| **4** | **Emit the “pretty” string**<br>`groupLabel = "${result.groupName} (${result.groupId})"`                                             | Same helper or right after you build the object                                                              | This is what the front-end table will show.                                                                                                                                                                                                                                                                                                                            |   |                  |   |                                                                                                                                                                                                                                                                                                                               |   |                                      |
| **5** | **Front-end: show `groupLabel` if present**                                                                                          | `src/pages/whatsapp-integration.tsx` (or where you render **Incoming Messages** / **Groups whitelist** list) | Instead of \`g.name                                                                                                                                                                                                                                                                                                                                                    |   | g.id`use`g.label |   | g.name                                                                                                                                                                                                                                                                                                                        |   | g.id\`. Same for the messages table. |

### What you get after these five patches

* **Groups pane** – will list e.g. `Test3 (120363400262559729@g.us)`
  instead of the bare id.
* **Incoming messages log** – “Sender” column will say **Nirav Gandhi** (fetched
  from `contacts.update`) rather than `919821822960@s.whatsapp.net`.
* The message parser / database code is untouched – only display
  names are prettier.

That’s the only code Replit’s dev needs to touch. Everything else can stay exactly as it is.
